import{r as x,j as e,L as S,u as k,a as $,b as z,c as B,d as K,e as X,f as J,g as Z,h as L,i as ee,k as te,n as se,l as ne,O as oe}from"./index-DmeA-yV0.js";import{I as D,A as P,u as ae}from"./Alert-DGe7ZWck.js";import{a as v,_ as A,s as re,b as ie,C as E,I as ce}from"./singInShema-C7ab2CP1.js";import{B as w}from"./Button-Didrd5Ow.js";import{u as H,t as Q,I as y}from"./zod-CK2taD8P.js";function le(t,s=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(s)}function ue(t,s=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(s)}function de(t,s="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${s}[${n}]`)}}var F=t=>Array.isArray(t)?t:[t];function me(t){const s=Array.isArray(t[0])?t[0]:t;return de(s,"createSelector expects all input-selectors to be functions, but received the following types: "),s}function _e(t,s){const n=[],{length:i}=t;for(let o=0;o<i;o++)n.push(t[o].apply(null,s));return n}var pe=class{constructor(t){this.value=t}deref(){return this.value}},fe=typeof WeakRef<"u"?WeakRef:pe,he=0,I=1;function C(){return{s:he,v:void 0,o:null,p:null}}function U(t,s={}){let n=C();const{resultEqualityCheck:i}=s;let o,l=0;function r(){var m;let a=n;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const f=arguments[p];if(typeof f=="function"||typeof f=="object"&&f!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const h=_.get(f);h===void 0?(a=C(),_.set(f,a)):a=h}else{let _=a.p;_===null&&(a.p=_=new Map);const h=_.get(f);h===void 0?(a=C(),_.set(f,a)):a=h}}const c=a;let d;if(a.s===I)d=a.v;else if(d=t.apply(null,arguments),l++,i){const p=((m=o==null?void 0:o.deref)==null?void 0:m.call(o))??o;p!=null&&i(p,d)&&(d=p,l!==0&&l--),o=typeof d=="object"&&d!==null||typeof d=="function"?new fe(d):d}return c.s=I,c.v=d,d}return r.clearCache=()=>{n=C(),r.resetResultsCount()},r.resultsCount=()=>l,r.resetResultsCount=()=>{l=0},r}function ge(t,...s){const n=typeof t=="function"?{memoize:t,memoizeOptions:s}:t,i=(...o)=>{let l=0,r=0,a,u={},c=o.pop();typeof c=="object"&&(u=c,c=o.pop()),le(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...u},{memoize:m,memoizeOptions:p=[],argsMemoize:g=U,argsMemoizeOptions:f=[],devModeChecks:_={}}=d,h=F(p),T=F(f),b=me(o),j=m(function(){return l++,c.apply(null,arguments)},...h),N=g(function(){r++;const G=_e(b,arguments);return a=j.apply(null,G),a},...T);return Object.assign(N,{resultFunc:c,memoizedResultFunc:j,dependencies:b,dependencyRecomputations:()=>r,resetDependencyRecomputations:()=>{r=0},lastResult:()=>a,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:m,argsMemoize:g})};return Object.assign(i,{withTypes:()=>i}),i}var q=ge(U),ve=Object.assign((t,s=q)=>{ue(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(l=>t[l]);return s(i,(...l)=>l.reduce((r,a,u)=>(r[n[u]]=a,r),{}))},{withTypes:()=>ve});const be="_navbar_owjid_1",xe="_navbar_logo_owjid_7",je="_navbar_content_owjid_12",ye="_navbar_links_icons_owjid_20",ke="_navbar_links_icons_visible_owjid_45",we="_navbar_close_owjid_50",Ne="_navbar_list_owjid_67",Ce="_navbar_right_owjid_113",Se="_navbar_right_basket_icon_owjid_125",$e="_navbar_right_login_owjid_131",Re="_navbar_menu_owjid_138",R={navbar:be,navbar_logo:xe,navbar_content:je,navbar_links_icons:ye,navbar_links_icons_visible:ke,navbar_close:we,navbar_list:Ne,"active-link":"_active-link_owjid_107",navbar_right:Ce,navbar_right_basket_icon:Se,navbar_right_login:$e,navbar_menu:Re},{navbar_list:Ae}=R,Ee="Home",Te=x.memo(({data:t,activeLink:s,handleActiveLink:n})=>{const i=t.map(o=>e.jsx("li",{onClick:()=>n(o),children:e.jsx(S,{to:o===Ee?"/":o,className:o===s?R["active-link"]:"",children:o},o)},o));return e.jsx("ul",{className:Ae,children:i})}),Le=q(t=>t.cart.foodIdAndQuantity,t=>Object.values(t).reduce((n,i)=>n+i,0)),Fe="_navbar_quantity_15u36_1",Ie="_navbar_total_15u36_5",Me={navbar_quantity:Fe,navbar_total:Ie},{navbar_quantity:Oe,navbar_total:ze}=Me;function M({TotalQuantity:t,icon:s,page:n}){return e.jsx(S,{to:`/${n}`,children:e.jsxs("div",{className:Oe,children:[e.jsx("img",{src:s,alt:"icon"}),e.jsx("div",{className:ze,children:t})]})})}const O={backgroundColor:"transparent",borderRadius:"50px",padding:"8px 16px",color:"black",cursor:"pointer",transition:"0.5s ease-in-out"},{navbar_right:Be,navbar_right_login:De}=R;function Pe({setIsVisibleShowLoginPopUp:t}){const s=k(c=>c.auth.accessToken),n=$(),i=z(),[o,l]=B(),r=()=>{t(!0)},a=k(Le),u=k(c=>c.wishlist.foodIds.length);return e.jsxs("div",{className:Be,children:[e.jsx(D,{imgName:v.search_icon,title:"search_icon"}),e.jsx(M,{TotalQuantity:u,icon:v.favorite_icon,page:"wishlist"}),e.jsx(M,{TotalQuantity:a,icon:v.basket_icon,page:"cart"}),e.jsx("div",{className:De,children:s?e.jsx(w,{className:"logOut",type:"button",disabled:!1,style:O,onClick:()=>{n(K()),n(X()),o.get("message")&&l(""),i("/"),A("you are Loged out.",{icon:"âœŒï¸"})},children:"logOut"}):e.jsx(w,{className:"sing-in",type:"button",disabled:!1,style:O,onClick:r,children:"Sing In"})})]})}const He="_form_1hzvg_1",Qe={form:He},{form:Ue}=Qe;function W({children:t,onSubmit:s}){return e.jsx("form",{className:Ue,onSubmit:s,children:t})}const qe=()=>{const[t,s]=x.useState("idle"),[n,i]=x.useState(null);return{checkEmailAvailable:async r=>{s("checking"),i(r);try{(await J.get(`/users?email=${r}`)).data.length?s("notAvailable"):s("available")}catch(a){s("failed"),console.log(a)}},resetCheckEmailAvailable:()=>{s("idle"),i(null)},statusAvailableEmail:t,enterdEmail:n}},We=({closeLoginPopUp:t})=>{const{status:s,user:n,accessToken:i,error:o}=k(b=>b.auth),l=z(),r=$(),{statusAvailableEmail:a,checkEmailAvailable:u,enterdEmail:c,resetCheckEmailAvailable:d}=qe(),{handleSubmit:m,register:p,formState:{errors:g},trigger:f,getFieldState:_}=H({resolver:Q(re),mode:"onBlur"});return{status:s,error:o,user:n,accessToken:i,handleSubmit:m,register:p,errors:g,statusAvailableEmail:a,enterdEmail:c,submitFormRegister:async b=>{r(Z(b)).unwrap().then(()=>{t(),A("You are Register with Success",{icon:"ðŸ‘Œ",style:{backgroundColor:"green",color:"white"}}),l("/")}).catch(j=>{console.log(j)})},checkEmailAvailable:u,resetCheckEmailAvailable:d,onBlurCheckEmailAvailable:async b=>{await f("email");const{isDirty:j,invalid:N}=_("email");j&&!N&&c!==b.target.value&&u(b.target.value),j&&N&&c&&d()}}},Ye="_title_8vo97_1",Ve="_title_close_8vo97_6",Ge={title:Ye,title_close:Ve},{title:Ke,title_close:Xe}=Ge;function Y({text:t,setIsVisibleShowLoginPopUp:s}){return e.jsxs("div",{className:Ke,children:[e.jsx("h3",{children:t}),e.jsx("div",{className:Xe,onClick:()=>s(!1),children:"X"})]})}function Je({currentState:t,setCurrentState:s,setIsVisibleShowLoginPopUp:n}){var p,g,f,_,h;const i=()=>{n(!1)},{status:o,error:l,errors:r,statusAvailableEmail:a,handleSubmit:u,register:c,onBlurCheckEmailAvailable:d,submitFormRegister:m}=We({closeLoginPopUp:i});return e.jsxs(e.Fragment,{children:[l&&e.jsx(P,{className:"error",text:l}),e.jsxs(W,{onSubmit:u(m),children:[e.jsx(Y,{text:t,setIsVisibleShowLoginPopUp:n}),e.jsx(y,{type:"text",register:c,name:"firstName",placeHolder:"FirstName",error:(p=r.firstName)==null?void 0:p.message}),e.jsx(y,{type:"text",register:c,name:"lastName",placeHolder:"LastName",error:(g=r.lastName)==null?void 0:g.message}),e.jsx(y,{type:"email",register:c,name:"email",placeHolder:"example@gmail.com",onBlur:d,formText:a==="checking"?"we are currently checking the availability of this email. Please wait...":"",success:a==="available"?"The Email is Available":"",disabled:a==="checking",error:(f=r.email)!=null&&f.message?r.email.message:a==="notAvailable"?"The Email ist not Available":a==="failed"?"Currently we can't checking the Email because The Server has a problem":""}),e.jsx(y,{type:"password",register:c,name:"password",placeHolder:"password",error:(_=r.password)==null?void 0:_.message}),e.jsx(y,{type:"password",register:c,name:"confirmPassword",placeHolder:"Confirmpassword",error:(h=r.confirmPassword)==null?void 0:h.message}),e.jsx(w,{type:"submit",disabled:o==="pending",style:{backgroundColor:"tomato",color:"white",borderRadius:"10px",border:"none",padding:"10px",width:"100%",marginBottom:"10px"},children:o==="pending"?"Loading...":"Register"}),e.jsxs("p",{children:["You have already an Account?",e.jsx(w,{type:"button",style:{textTransform:"capitalize",backgroundColor:"transparent",textDecoration:"underline",border:"none"},onClick:()=>s("sing in"),children:"sing In"})]})]})]})}const Ze=({showLoginPopUp:t})=>{const{status:s,error:n,accessToken:i}=k(m=>m.auth),[o,l]=B(),r=$(),{handleSubmit:a,register:u,formState:{errors:c}}=H({resolver:Q(ie),mode:"onBlur"});return x.useEffect(()=>()=>{r(L())},[r]),x.useEffect(()=>{if(s==="fullfield"){const m=setTimeout(()=>{r(L())},1e3);return()=>{clearTimeout(m)}}},[r,s]),{handleSubmit:a,register:u,submitLoginForm:async m=>{r(ee(m)).unwrap().then(()=>{t&&t(),A("Login with Successfuly",{icon:"ðŸ¥³",style:{backgroundColor:"green",color:"white"}})})},setSearchParams:l,dispatch:r,searchParams:o,errors:c,status:s,error:n,accessToken:i}};function et({currentState:t,setCurrentState:s,setIsVisibleShowLoginPopUp:n}){var d,m;const i=()=>{n(!1)},{register:o,handleSubmit:l,submitLoginForm:r,errors:a,status:u,error:c}=Ze({showLoginPopUp:i});return e.jsxs(e.Fragment,{children:[c&&e.jsx(P,{className:"error",text:c}),e.jsxs(W,{onSubmit:l(r),children:[e.jsx(Y,{text:t,setIsVisibleShowLoginPopUp:n}),e.jsx(y,{type:"text",placeHolder:"example@mail.com",register:o,name:"email",error:(d=a.email)==null?void 0:d.message}),e.jsx(y,{type:"password",placeHolder:"password",register:o,name:"password",error:(m=a.password)==null?void 0:m.message}),e.jsx(w,{type:"submit",disabled:u==="pending",style:{backgroundColor:"tomato",color:"white",borderRadius:"10px",border:"none",padding:"10px",width:"100%",marginBottom:"10px",opacity:`${u==="pending"?"0.5":""}`},children:u==="pending"?"Loading...":"Sing in"}),e.jsxs("p",{children:["You don't have Account?",e.jsx(w,{type:"button",style:{textTransform:"capitalize",backgroundColor:"transparent",textDecoration:"underline",border:"none"},onClick:()=>s("sing up"),children:"Sing up"})]})]})]})}const tt="_login_popUp_1dzni_1",st="_widthAnimation_1dzni_1",nt={login_popUp:tt,widthAnimation:st},{login_popUp:ot}=nt;function at({isVisibleShowLoginPopUp:t,setIsVisibleShowLoginPopUp:s}){const[n,i]=x.useState("sing up");return e.jsx(e.Fragment,{children:t&&e.jsx("div",{className:ot,children:n==="sing up"?e.jsx(Je,{currentState:n,setCurrentState:i,setIsVisibleShowLoginPopUp:s}):e.jsx(et,{currentState:n,setCurrentState:i,setIsVisibleShowLoginPopUp:s})})})}const{navbar:rt,navbar_content:it,navbar_logo:ct,navbar_links_icons:lt,navbar_menu:ut,navbar_links_icons_visible:dt,navbar_close:mt}=R;function _t(){const t=k(c=>c.auth.accessToken),{activeLink:s,handleActiveLink:n}=ae("home"),[i,o]=x.useState(!1),[l,r]=x.useState(!1),a=$(),u=()=>{r(c=>!c)};return x.useEffect(()=>{t&&a(te("foodIds"))},[a,t]),e.jsxs("nav",{className:rt,children:[e.jsx(E,{children:e.jsxs("div",{className:it,children:[e.jsx(S,{to:"/",children:e.jsx(D,{className:ct,imgName:v.logo,title:"logo"})}),e.jsxs("div",{className:`${lt} ${l?dt:""}`,children:[e.jsx("div",{className:mt,onClick:u,children:e.jsx("img",{src:v.cross_icon,alt:"close icon"})}),e.jsx(Te,{data:se,activeLink:s,handleActiveLink:n}),e.jsx(Pe,{setIsVisibleShowLoginPopUp:o})]}),e.jsx("div",{className:ut,onClick:u,children:e.jsx("img",{src:v.menu_icon,alt:"menu icon"})})]})}),e.jsx(at,{isVisibleShowLoginPopUp:i,setIsVisibleShowLoginPopUp:o})]})}const pt="_footer_left_logo_pl53s_2",ft="_footer_left_desc_pl53s_6",ht="_footer_left_icons_pl53s_12",gt={footer_left_logo:pt,footer_left_desc:ft,footer_left_icons:ht},{footer_left:vt,footer_left_logo:bt,footer_left_desc:xt,footer_left_icons:jt}=gt;function yt(){return e.jsxs("div",{className:vt,children:[e.jsx("div",{className:bt,children:e.jsx("img",{src:v.logo,alt:"logo totmato"})}),e.jsx("p",{className:xt,children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis, velit earum. Sed ex eos similique tempora quaerat aliquid enim reiciendis, asperiores minus laboriosam modi porro iure hic debitis vero unde?"}),e.jsxs("div",{className:jt,children:[e.jsx("img",{src:v.facebook_icon,alt:"facebook"}),e.jsx("img",{src:v.linkedin_icon,alt:"linkedin"}),e.jsx("img",{src:v.twitter_icon,alt:"twitter"})]})]})}const kt="_footer_center_yi3i7_1",wt={footer_center:kt},{footer_center:Nt,footer_center_title:Ct}=wt;function St({dataLink:t}){const s=t.map(n=>e.jsx(S,{to:"/",children:e.jsx("li",{children:n})},n));return e.jsxs("div",{className:Nt,children:[e.jsx("h2",{className:Ct,children:"COMPANY"}),e.jsx("ul",{children:s})]})}function $t(){return e.jsxs("div",{className:"footer-right",children:[e.jsx("h2",{className:"footer-right title",children:"GET IN TOUCH"}),e.jsxs("ul",{children:[e.jsx("li",{children:"+212 6 12 44 66 60"}),e.jsx("li",{children:"contact@tomato.com"})]})]})}const Rt="_footer_1xhkp_1",At="_footer_content_1xhkp_10",Et="_footer_copyRight_1xhkp_34",Tt={footer:Rt,footer_content:At,footer_copyRight:Et},{footer:Lt,footer_content:Ft,footer_copyRight:It}=Tt;function Mt(){return e.jsx("footer",{className:Lt,children:e.jsxs(E,{children:[e.jsxs("div",{className:Ft,children:[e.jsx(yt,{}),e.jsx(St,{dataLink:ne}),e.jsx($t,{})]}),e.jsx("hr",{}),e.jsx("p",{className:It,children:"CopyRight 2024 Tomato.com - All Right Reserved"})]})})}function Ht(){return e.jsxs("div",{className:"main-layout",children:[e.jsx(_t,{}),e.jsx(E,{children:e.jsx(oe,{})}),e.jsx(Mt,{}),e.jsx(ce,{})]})}export{Ht as default};
