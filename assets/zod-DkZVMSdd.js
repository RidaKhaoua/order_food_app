import{j as ue,R as I}from"./index-DECSHwhq.js";const br="_input_be90i_1",Vr="_isValid_be90i_13",Ar="_isInValid_be90i_18",Fr="_input_feedback_inValid_be90i_24",xr="_input_feedback_valid_be90i_28",mr={input:br,isValid:Vr,isInValid:Ar,input_feedback_inValid:Fr,input_feedback_valid:xr},{input:wr,isValid:Dr,isInValid:kr,input_feedback_valid:Er,input_feedback_inValid:Sr}=mr,rt=({placeHolder:e,type:s,name:r,register:i,onBlur:u,error:a,success:f,formText:h,disabled:m})=>{const k=G=>{u&&u(G),i(r).onBlur(G)},x=f?Dr:"",g=a?kr:"";return ue.jsxs("div",{className:wr,children:[ue.jsx("input",{type:s,placeholder:e,...i(r),name:r,onBlur:k,className:`${x} ${g} `,readOnly:m}),ue.jsx("p",{className:`${a?Sr:""}`,children:a}),ue.jsx("p",{className:`input-feedback ${f?Er:""}`,children:f}),h&&ue.jsx("p",{children:h})]})};var de=e=>e.type==="checkbox",re=e=>e instanceof Date,C=e=>e==null;const rr=e=>typeof e=="object";var D=e=>!C(e)&&!Array.isArray(e)&&rr(e)&&!re(e),Or=e=>D(e)&&e.target?de(e.target)?e.target.checked:e.target.value:e,pr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Nr=(e,s)=>e.has(pr(s)),Tr=e=>{const s=e.constructor&&e.constructor.prototype;return D(s)&&s.hasOwnProperty("isPrototypeOf")},pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let s;const r=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(pe&&(e instanceof Blob||e instanceof FileList))&&(r||D(e)))if(s=r?[]:{},!r&&!Tr(e))s=e;else for(const i in e)e.hasOwnProperty(i)&&(s[i]=B(e[i]));else return e;return s}var Ae=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>e===void 0,y=(e,s,r)=>{if(!s||!D(e))return r;const i=Ae(s.split(/[,[\].]+?/)).reduce((u,a)=>C(u)?u:u[a],e);return w(i)||i===e?w(e[s])?r:e[s]:i},q=e=>typeof e=="boolean",Ne=e=>/^\w*$/.test(e),tr=e=>Ae(e.replace(/["|']|\]/g,"").split(/\.|\[/)),F=(e,s,r)=>{let i=-1;const u=Ne(s)?[s]:tr(s),a=u.length,f=a-1;for(;++i<a;){const h=u[i];let m=r;if(i!==f){const k=e[h];m=D(k)||Array.isArray(k)?k:isNaN(+u[i+1])?{}:[]}if(h==="__proto__")return;e[h]=m,e=e[h]}return e};const We={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},j={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Y={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};I.createContext(null);var Cr=(e,s,r,i=!0)=>{const u={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(u,a,{get:()=>{const f=a;return s._proxyFormState[f]!==j.all&&(s._proxyFormState[f]=!i||j.all),e[f]}});return u},L=e=>D(e)&&!Object.keys(e).length,Lr=(e,s,r,i)=>{r(e);const{name:u,...a}=e;return L(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(f=>s[f]===j.all)},ve=e=>Array.isArray(e)?e:[e];function Ur(e){const s=I.useRef(e);s.current=e,I.useEffect(()=>{const r=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var $=e=>typeof e=="string",Ir=(e,s,r,i,u)=>$(e)?(i&&s.watch.add(e),y(r,e,u)):Array.isArray(e)?e.map(a=>(i&&s.watch.add(a),y(r,a))):(i&&(s.watchAll=!0),r),sr=(e,s,r,i,u)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:u||!0}}:{},He=e=>({isOnSubmit:!e||e===j.onSubmit,isOnBlur:e===j.onBlur,isOnChange:e===j.onChange,isOnAll:e===j.all,isOnTouch:e===j.onTouched}),Ke=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const fe=(e,s,r,i)=>{for(const u of r||Object.keys(e)){const a=y(e,u);if(a){const{_f:f,...h}=a;if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],u)&&!i)return!0;if(f.ref&&s(f.ref,f.name)&&!i)return!0;if(fe(h,s))break}else if(D(h)&&fe(h,s))break}}};var Rr=(e,s,r)=>{const i=ve(y(e,r));return F(i,"root",s[r]),F(e,r,i),e},Te=e=>e.type==="file",z=e=>typeof e=="function",_e=e=>{if(!pe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ge=e=>$(e),Ce=e=>e.type==="radio",be=e=>e instanceof RegExp;const Ye={value:!1,isValid:!1},ze={value:!0,isValid:!0};var ir=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?ze:{value:e[0].value,isValid:!0}:ze:Ye}return Ye};const Ge={isValid:!1,value:null};var nr=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Ge):Ge;function Je(e,s,r="validate"){if(ge(e)||Array.isArray(e)&&e.every(ge)||q(e)&&!e)return{type:r,message:ge(e)?e:"",ref:s}}var ie=e=>D(e)&&!be(e)?e:{value:e,message:""},Qe=async(e,s,r,i,u)=>{const{ref:a,refs:f,required:h,maxLength:m,minLength:k,min:x,max:g,pattern:G,validate:J,name:U,valueAsNumber:Fe,mount:W,disabled:Q}=e._f,V=y(s,U);if(!W||Q)return{};const H=f?f[0]:a,K=b=>{i&&H.reportValidity&&(H.setCustomValidity(q(b)?"":b||""),H.reportValidity())},E={},te=Ce(a),ye=de(a),Z=te||ye,se=(Fe||Te(a))&&w(a.value)&&w(V)||_e(a)&&a.value===""||V===""||Array.isArray(V)&&!V.length,R=sr.bind(null,U,r,E),he=(b,A,S,T=Y.maxLength,P=Y.minLength)=>{const M=b?A:S;E[U]={type:b?T:P,message:M,ref:a,...R(b?T:P,M)}};if(u?!Array.isArray(V)||!V.length:h&&(!Z&&(se||C(V))||q(V)&&!V||ye&&!ir(f).isValid||te&&!nr(f).isValid)){const{value:b,message:A}=ge(h)?{value:!!h,message:h}:ie(h);if(b&&(E[U]={type:Y.required,message:A,ref:H,...R(Y.required,A)},!r))return K(A),E}if(!se&&(!C(x)||!C(g))){let b,A;const S=ie(g),T=ie(x);if(!C(V)&&!isNaN(V)){const P=a.valueAsNumber||V&&+V;C(S.value)||(b=P>S.value),C(T.value)||(A=P<T.value)}else{const P=a.valueAsDate||new Date(V),M=le=>new Date(new Date().toDateString()+" "+le),ne=a.type=="time",ae=a.type=="week";$(S.value)&&V&&(b=ne?M(V)>M(S.value):ae?V>S.value:P>new Date(S.value)),$(T.value)&&V&&(A=ne?M(V)<M(T.value):ae?V<T.value:P<new Date(T.value))}if((b||A)&&(he(!!b,S.message,T.message,Y.max,Y.min),!r))return K(E[U].message),E}if((m||k)&&!se&&($(V)||u&&Array.isArray(V))){const b=ie(m),A=ie(k),S=!C(b.value)&&V.length>+b.value,T=!C(A.value)&&V.length<+A.value;if((S||T)&&(he(S,b.message,A.message),!r))return K(E[U].message),E}if(G&&!se&&$(V)){const{value:b,message:A}=ie(G);if(be(b)&&!V.match(b)&&(E[U]={type:Y.pattern,message:A,ref:a,...R(Y.pattern,A)},!r))return K(A),E}if(J){if(z(J)){const b=await J(V,s),A=Je(b,H);if(A&&(E[U]={...A,...R(Y.validate,A.message)},!r))return K(A.message),E}else if(D(J)){let b={};for(const A in J){if(!L(b)&&!r)break;const S=Je(await J[A](V,s),H,A);S&&(b={...S,...R(A,S.message)},K(S.message),r&&(E[U]=b))}if(!L(b)&&(E[U]={ref:H,...b},!r))return E}}return K(!0),E};function Mr(e,s){const r=s.slice(0,-1).length;let i=0;for(;i<r;)e=w(e)?i++:e[s[i++]];return e}function Br(e){for(const s in e)if(e.hasOwnProperty(s)&&!w(e[s]))return!1;return!0}function O(e,s){const r=Array.isArray(s)?s:Ne(s)?[s]:tr(s),i=r.length===1?e:Mr(e,r),u=r.length-1,a=r[u];return i&&delete i[a],u!==0&&(D(i)&&L(i)||Array.isArray(i)&&Br(i))&&O(e,r.slice(0,-1)),e}var ke=()=>{let e=[];return{get observers(){return e},next:u=>{for(const a of e)a.next&&a.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(a=>a!==u)}}),unsubscribe:()=>{e=[]}}},Oe=e=>C(e)||!rr(e);function X(e,s){if(Oe(e)||Oe(s))return e===s;if(re(e)&&re(s))return e.getTime()===s.getTime();const r=Object.keys(e),i=Object.keys(s);if(r.length!==i.length)return!1;for(const u of r){const a=e[u];if(!i.includes(u))return!1;if(u!=="ref"){const f=s[u];if(re(a)&&re(f)||D(a)&&D(f)||Array.isArray(a)&&Array.isArray(f)?!X(a,f):a!==f)return!1}}return!0}var ar=e=>e.type==="select-multiple",Pr=e=>Ce(e)||de(e),Ee=e=>_e(e)&&e.isConnected,lr=e=>{for(const s in e)if(z(e[s]))return!0;return!1};function Ve(e,s={}){const r=Array.isArray(e);if(D(e)||r)for(const i in e)Array.isArray(e[i])||D(e[i])&&!lr(e[i])?(s[i]=Array.isArray(e[i])?[]:{},Ve(e[i],s[i])):C(e[i])||(s[i]=!0);return s}function ur(e,s,r){const i=Array.isArray(e);if(D(e)||i)for(const u in e)Array.isArray(e[u])||D(e[u])&&!lr(e[u])?w(s)||Oe(r[u])?r[u]=Array.isArray(e[u])?Ve(e[u],[]):{...Ve(e[u])}:ur(e[u],C(s)?{}:s[u],r[u]):r[u]=!X(e[u],s[u]);return r}var oe=(e,s)=>ur(e,s,Ve(s)),or=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:i})=>w(e)?e:s?e===""?NaN:e&&+e:r&&$(e)?new Date(e):i?i(e):e;function Se(e){const s=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):s.disabled))return Te(s)?s.files:Ce(s)?nr(e.refs).value:ar(s)?[...s.selectedOptions].map(({value:r})=>r):de(s)?ir(e.refs).value:or(w(s.value)?e.ref.value:s.value,e)}var jr=(e,s,r,i)=>{const u={};for(const a of e){const f=y(s,a);f&&F(u,a,f._f)}return{criteriaMode:r,names:[...e],fields:u,shouldUseNativeValidation:i}},ce=e=>w(e)?e:be(e)?e.source:D(e)?be(e.value)?e.value.source:e.value:e;const Xe="AsyncFunction";var qr=e=>(!e||!e.validate)&&!!(z(e.validate)&&e.validate.constructor.name===Xe||D(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===Xe)),$r=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ze(e,s,r){const i=y(e,r);if(i||Ne(r))return{error:i,name:r};const u=r.split(".");for(;u.length;){const a=u.join("."),f=y(s,a),h=y(e,a);if(f&&!Array.isArray(f)&&r!==a)return{name:r};if(h&&h.type)return{name:a,error:h};u.pop()}return{name:r}}var Wr=(e,s,r,i,u)=>u.isOnAll?!1:!r&&u.isOnTouch?!(s||e):(r?i.isOnBlur:u.isOnBlur)?!e:(r?i.isOnChange:u.isOnChange)?e:!0,Hr=(e,s)=>!Ae(y(e,s)).length&&O(e,s);const Kr={mode:j.onSubmit,reValidateMode:j.onChange,shouldFocusError:!0};function Yr(e={}){let s={...Kr,...e},r={submitCount:0,isDirty:!1,isLoading:z(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},u=D(s.defaultValues)||D(s.values)?B(s.defaultValues||s.values)||{}:{},a=s.shouldUnregister?{}:B(u),f={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},m,k=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:ke(),array:ke(),state:ke()},G=He(s.mode),J=He(s.reValidateMode),U=s.criteriaMode===j.all,Fe=t=>n=>{clearTimeout(k),k=setTimeout(t,n)},W=async t=>{if(!e.disabled&&(x.isValid||t)){const n=s.resolver?L((await Z()).errors):await R(i,!0);n!==r.isValid&&g.state.next({isValid:n})}},Q=(t,n)=>{!e.disabled&&(x.isValidating||x.validatingFields)&&((t||Array.from(h.mount)).forEach(l=>{l&&(n?F(r.validatingFields,l,n):O(r.validatingFields,l))}),g.state.next({validatingFields:r.validatingFields,isValidating:!L(r.validatingFields)}))},V=(t,n=[],l,d,c=!0,o=!0)=>{if(d&&l&&!e.disabled){if(f.action=!0,o&&Array.isArray(y(i,t))){const v=l(y(i,t),d.argA,d.argB);c&&F(i,t,v)}if(o&&Array.isArray(y(r.errors,t))){const v=l(y(r.errors,t),d.argA,d.argB);c&&F(r.errors,t,v),Hr(r.errors,t)}if(x.touchedFields&&o&&Array.isArray(y(r.touchedFields,t))){const v=l(y(r.touchedFields,t),d.argA,d.argB);c&&F(r.touchedFields,t,v)}x.dirtyFields&&(r.dirtyFields=oe(u,a)),g.state.next({name:t,isDirty:b(t,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else F(a,t,n)},H=(t,n)=>{F(r.errors,t,n),g.state.next({errors:r.errors})},K=t=>{r.errors=t,g.state.next({errors:r.errors,isValid:!1})},E=(t,n,l,d)=>{const c=y(i,t);if(c){const o=y(a,t,w(l)?y(u,t):l);w(o)||d&&d.defaultChecked||n?F(a,t,n?o:Se(c._f)):T(t,o),f.mount&&W()}},te=(t,n,l,d,c)=>{let o=!1,v=!1;const _={name:t};if(!e.disabled){const p=!!(y(i,t)&&y(i,t)._f&&y(i,t)._f.disabled);if(!l||d){x.isDirty&&(v=r.isDirty,r.isDirty=_.isDirty=b(),o=v!==_.isDirty);const N=p||X(y(u,t),n);v=!!(!p&&y(r.dirtyFields,t)),N||p?O(r.dirtyFields,t):F(r.dirtyFields,t,!0),_.dirtyFields=r.dirtyFields,o=o||x.dirtyFields&&v!==!N}if(l){const N=y(r.touchedFields,t);N||(F(r.touchedFields,t,l),_.touchedFields=r.touchedFields,o=o||x.touchedFields&&N!==l)}o&&c&&g.state.next(_)}return o?_:{}},ye=(t,n,l,d)=>{const c=y(r.errors,t),o=x.isValid&&q(n)&&r.isValid!==n;if(e.delayError&&l?(m=Fe(()=>H(t,l)),m(e.delayError)):(clearTimeout(k),m=null,l?F(r.errors,t,l):O(r.errors,t)),(l?!X(c,l):c)||!L(d)||o){const v={...d,...o&&q(n)?{isValid:n}:{},errors:r.errors,name:t};r={...r,...v},g.state.next(v)}},Z=async t=>{Q(t,!0);const n=await s.resolver(a,s.context,jr(t||h.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return Q(t),n},se=async t=>{const{errors:n}=await Z(t);if(t)for(const l of t){const d=y(n,l);d?F(r.errors,l,d):O(r.errors,l)}else r.errors=n;return n},R=async(t,n,l={valid:!0})=>{for(const d in t){const c=t[d];if(c){const{_f:o,...v}=c;if(o){const _=h.array.has(o.name),p=c._f&&qr(c._f);p&&x.validatingFields&&Q([d],!0);const N=await Qe(c,a,U,s.shouldUseNativeValidation&&!n,_);if(p&&x.validatingFields&&Q([d]),N[o.name]&&(l.valid=!1,n))break;!n&&(y(N,o.name)?_?Rr(r.errors,N,o.name):F(r.errors,o.name,N[o.name]):O(r.errors,o.name))}!L(v)&&await R(v,n,l)}}return l.valid},he=()=>{for(const t of h.unMount){const n=y(i,t);n&&(n._f.refs?n._f.refs.every(l=>!Ee(l)):!Ee(n._f.ref))&&xe(t)}h.unMount=new Set},b=(t,n)=>!e.disabled&&(t&&n&&F(a,t,n),!X(Le(),u)),A=(t,n,l)=>Ir(t,h,{...f.mount?a:w(n)?u:$(t)?{[t]:n}:n},l,n),S=t=>Ae(y(f.mount?a:u,t,e.shouldUnregister?y(u,t,[]):[])),T=(t,n,l={})=>{const d=y(i,t);let c=n;if(d){const o=d._f;o&&(!o.disabled&&F(a,t,or(n,o)),c=_e(o.ref)&&C(n)?"":n,ar(o.ref)?[...o.ref.options].forEach(v=>v.selected=c.includes(v.value)):o.refs?de(o.ref)?o.refs.length>1?o.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(c)?!!c.find(_=>_===v.value):c===v.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(v=>v.checked=v.value===c):Te(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||g.values.next({name:t,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&te(t,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(t)},P=(t,n,l)=>{for(const d in n){const c=n[d],o=`${t}.${d}`,v=y(i,o);(h.array.has(t)||D(c)||v&&!v._f)&&!re(c)?P(o,c,l):T(o,c,l)}},M=(t,n,l={})=>{const d=y(i,t),c=h.array.has(t),o=B(n);F(a,t,o),c?(g.array.next({name:t,values:{...a}}),(x.isDirty||x.dirtyFields)&&l.shouldDirty&&g.state.next({name:t,dirtyFields:oe(u,a),isDirty:b(t,o)})):d&&!d._f&&!C(o)?P(t,o,l):T(t,o,l),Ke(t,h)&&g.state.next({...r}),g.values.next({name:f.mount?t:void 0,values:{...a}})},ne=async t=>{f.mount=!0;const n=t.target;let l=n.name,d=!0;const c=y(i,l),o=()=>n.type?Se(c._f):Or(t),v=_=>{d=Number.isNaN(_)||re(_)&&isNaN(_.getTime())||X(_,y(a,l,_))};if(c){let _,p;const N=o(),ee=t.type===We.BLUR||t.type===We.FOCUS_OUT,vr=!$r(c._f)&&!s.resolver&&!y(r.errors,l)&&!c._f.deps||Wr(ee,y(r.touchedFields,l),r.isSubmitted,J,G),we=Ke(l,h,ee);F(a,l,N),ee?(c._f.onBlur&&c._f.onBlur(t),m&&m(0)):c._f.onChange&&c._f.onChange(t);const De=te(l,N,ee,!1),gr=!L(De)||we;if(!ee&&g.values.next({name:l,type:t.type,values:{...a}}),vr)return x.isValid&&(e.mode==="onBlur"?ee&&W():W()),gr&&g.state.next({name:l,...we?{}:De});if(!ee&&we&&g.state.next({...r}),s.resolver){const{errors:qe}=await Z([l]);if(v(N),d){const _r=Ze(r.errors,i,l),$e=Ze(qe,i,_r.name||l);_=$e.error,l=$e.name,p=L(qe)}}else Q([l],!0),_=(await Qe(c,a,U,s.shouldUseNativeValidation))[l],Q([l]),v(N),d&&(_?p=!1:x.isValid&&(p=await R(i,!0)));d&&(c._f.deps&&le(c._f.deps),ye(l,p,_,De))}},ae=(t,n)=>{if(y(r.errors,n)&&t.focus)return t.focus(),1},le=async(t,n={})=>{let l,d;const c=ve(t);if(s.resolver){const o=await se(w(t)?t:c);l=L(o),d=t?!c.some(v=>y(o,v)):l}else t?(d=(await Promise.all(c.map(async o=>{const v=y(i,o);return await R(v&&v._f?{[o]:v}:v)}))).every(Boolean),!(!d&&!r.isValid)&&W()):d=l=await R(i);return g.state.next({...!$(t)||x.isValid&&l!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:l}:{},errors:r.errors}),n.shouldFocus&&!d&&fe(i,ae,t?c:h.mount),d},Le=t=>{const n={...f.mount?a:u};return w(t)?n:$(t)?y(n,t):t.map(l=>y(n,l))},Ue=(t,n)=>({invalid:!!y((n||r).errors,t),isDirty:!!y((n||r).dirtyFields,t),error:y((n||r).errors,t),isValidating:!!y(r.validatingFields,t),isTouched:!!y((n||r).touchedFields,t)}),fr=t=>{t&&ve(t).forEach(n=>O(r.errors,n)),g.state.next({errors:t?r.errors:{}})},Ie=(t,n,l)=>{const d=(y(i,t,{_f:{}})._f||{}).ref,c=y(r.errors,t)||{},{ref:o,message:v,type:_,...p}=c;F(r.errors,t,{...p,...n,ref:d}),g.state.next({name:t,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&d&&d.focus&&d.focus()},dr=(t,n)=>z(t)?g.values.subscribe({next:l=>t(A(void 0,n),l)}):A(t,n,!0),xe=(t,n={})=>{for(const l of t?ve(t):h.mount)h.mount.delete(l),h.array.delete(l),n.keepValue||(O(i,l),O(a,l)),!n.keepError&&O(r.errors,l),!n.keepDirty&&O(r.dirtyFields,l),!n.keepTouched&&O(r.touchedFields,l),!n.keepIsValidating&&O(r.validatingFields,l),!s.shouldUnregister&&!n.keepDefaultValue&&O(u,l);g.values.next({values:{...a}}),g.state.next({...r,...n.keepDirty?{isDirty:b()}:{}}),!n.keepIsValid&&W()},Re=({disabled:t,name:n,field:l,fields:d,value:c})=>{if(q(t)&&f.mount||t){const o=t?void 0:w(c)?Se(l?l._f:y(d,n)._f):c;F(a,n,o),te(n,o,!1,!1,!0)}},me=(t,n={})=>{let l=y(i,t);const d=q(n.disabled)||q(e.disabled);return F(i,t,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:t}},name:t,mount:!0,...n}}),h.mount.add(t),l?Re({field:l,disabled:q(n.disabled)?n.disabled:e.disabled,name:t,value:n.value}):E(t,!0,n.value),{...d?{disabled:n.disabled||e.disabled}:{},...s.progressive?{required:!!n.required,min:ce(n.min),max:ce(n.max),minLength:ce(n.minLength),maxLength:ce(n.maxLength),pattern:ce(n.pattern)}:{},name:t,onChange:ne,onBlur:ne,ref:c=>{if(c){me(t,n),l=y(i,t);const o=w(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,v=Pr(o),_=l._f.refs||[];if(v?_.find(p=>p===o):o===l._f.ref)return;F(i,t,{_f:{...l._f,...v?{refs:[..._.filter(Ee),o,...Array.isArray(y(u,t))?[{}]:[]],ref:{type:o.type,name:t}}:{ref:o}}}),E(t,!1,void 0,o)}else l=y(i,t,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(Nr(h.array,t)&&f.action)&&h.unMount.add(t)}}},Me=()=>s.shouldFocusError&&fe(i,ae,h.mount),yr=t=>{q(t)&&(g.state.next({disabled:t}),fe(i,(n,l)=>{const d=y(i,l);d&&(n.disabled=d._f.disabled||t,Array.isArray(d._f.refs)&&d._f.refs.forEach(c=>{c.disabled=d._f.disabled||t}))},0,!1))},Be=(t,n)=>async l=>{let d;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=B(a);if(g.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:v}=await Z();r.errors=o,c=v}else await R(i);if(O(r.errors,"root"),L(r.errors)){g.state.next({errors:{}});try{await t(c,l)}catch(o){d=o}}else n&&await n({...r.errors},l),Me(),setTimeout(Me);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:L(r.errors)&&!d,submitCount:r.submitCount+1,errors:r.errors}),d)throw d},hr=(t,n={})=>{y(i,t)&&(w(n.defaultValue)?M(t,B(y(u,t))):(M(t,n.defaultValue),F(u,t,B(n.defaultValue))),n.keepTouched||O(r.touchedFields,t),n.keepDirty||(O(r.dirtyFields,t),r.isDirty=n.defaultValue?b(t,B(y(u,t))):b()),n.keepError||(O(r.errors,t),x.isValid&&W()),g.state.next({...r}))},Pe=(t,n={})=>{const l=t?B(t):u,d=B(l),c=L(t),o=c?u:d;if(n.keepDefaultValues||(u=l),!n.keepValues){if(n.keepDirtyValues){const v=new Set([...h.mount,...Object.keys(oe(u,a))]);for(const _ of Array.from(v))y(r.dirtyFields,_)?F(o,_,y(a,_)):M(_,y(o,_))}else{if(pe&&w(t))for(const v of h.mount){const _=y(i,v);if(_&&_._f){const p=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(_e(p)){const N=p.closest("form");if(N){N.reset();break}}}}i={}}a=e.shouldUnregister?n.keepDefaultValues?B(u):{}:B(o),g.array.next({values:{...o}}),g.values.next({values:{...o}})}h={mount:n.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!x.isValid||!!n.keepIsValid||!!n.keepDirtyValues,f.watch=!!e.shouldUnregister,g.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:c?!1:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!X(t,u)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:c?{}:n.keepDirtyValues?n.keepDefaultValues&&a?oe(u,a):r.dirtyFields:n.keepDefaultValues&&t?oe(u,t):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},je=(t,n)=>Pe(z(t)?t(a):t,n);return{control:{register:me,unregister:xe,getFieldState:Ue,handleSubmit:Be,setError:Ie,_executeSchema:Z,_getWatch:A,_getDirty:b,_updateValid:W,_removeUnmounted:he,_updateFieldArray:V,_updateDisabledField:Re,_getFieldArray:S,_reset:Pe,_resetDefaultValues:()=>z(s.defaultValues)&&s.defaultValues().then(t=>{je(t,s.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:t=>{r={...r,...t}},_disableForm:yr,_subjects:g,_proxyFormState:x,_setErrors:K,get _fields(){return i},get _formValues(){return a},get _state(){return f},set _state(t){f=t},get _defaultValues(){return u},get _names(){return h},set _names(t){h=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:le,register:me,handleSubmit:Be,watch:dr,setValue:M,getValues:Le,reset:je,resetField:hr,clearErrors:fr,unregister:xe,setError:Ie,setFocus:(t,n={})=>{const l=y(i,t),d=l&&l._f;if(d){const c=d.refs?d.refs[0]:d.ref;c.focus&&(c.focus(),n.shouldSelect&&c.select())}},getFieldState:Ue}}function tt(e={}){const s=I.useRef(),r=I.useRef(),[i,u]=I.useState({isDirty:!1,isValidating:!1,isLoading:z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:z(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Yr(e),formState:i});const a=s.current.control;return a._options=e,Ur({subject:a._subjects.state,next:f=>{Lr(f,a._proxyFormState,a._updateFormState)&&u({...a._formState})}}),I.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),I.useEffect(()=>{if(a._proxyFormState.isDirty){const f=a._getDirty();f!==i.isDirty&&a._subjects.state.next({isDirty:f})}},[a,i.isDirty]),I.useEffect(()=>{e.values&&!X(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,u(f=>({...f}))):a._resetDefaultValues()},[e.values,a]),I.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),I.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),I.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),I.useEffect(()=>{s.current&&(s.current.watch=s.current.watch.bind({}))},[i]),s.current.formState=Cr(i,a),s.current}const er=(e,s,r)=>{if(e&&"reportValidity"in e){const i=y(r,s);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},cr=(e,s)=>{for(const r in s.fields){const i=s.fields[r];i&&i.ref&&"reportValidity"in i.ref?er(i.ref,r,e):i.refs&&i.refs.forEach(u=>er(u,r,e))}},zr=(e,s)=>{s.shouldUseNativeValidation&&cr(e,s);const r={};for(const i in e){const u=y(s.fields,i),a=Object.assign(e[i]||{},{ref:u&&u.ref});if(Gr(s.names||Object.keys(e),i)){const f=Object.assign({},y(r,i));F(f,"root",a),F(r,i,f)}else F(r,i,a)}return r},Gr=(e,s)=>e.some(r=>r.startsWith(s+"."));var Jr=function(e,s){for(var r={};e.length;){var i=e[0],u=i.code,a=i.message,f=i.path.join(".");if(!r[f])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];r[f]={message:h.message,type:h.code}}else r[f]={message:a,type:u};if("unionErrors"in i&&i.unionErrors.forEach(function(x){return x.errors.forEach(function(g){return e.push(g)})}),s){var m=r[f].types,k=m&&m[i.code];r[f]=sr(f,s,r,u,k?[].concat(k,i.message):i.message)}e.shift()}return r},st=function(e,s,r){return r===void 0&&(r={}),function(i,u,a){try{return Promise.resolve(function(f,h){try{var m=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,s)).then(function(k){return a.shouldUseNativeValidation&&cr({},a),{errors:{},values:r.raw?i:k}})}catch(k){return h(k)}return m&&m.then?m.then(void 0,h):m}(0,function(f){if(function(h){return Array.isArray(h==null?void 0:h.errors)}(f))return{values:{},errors:zr(Jr(f.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw f}))}catch(f){return Promise.reject(f)}}};export{rt as I,st as t,tt as u};
