import{r as x,j as e,L as S,u as k,a as $,b as z,c as B,d as K,e as X,f as J,g as Z,h as L,i as ee,k as te,n as se,l as ne,O as oe}from"./index-CbT-tO2b.js";import{I as D,A as P,u as ae}from"./Alert-C31pZJPJ.js";import{C as A}from"./index-CXgxTxOv.js";import{a as b,_ as E,s as re,b as ie,I as ce}from"./singInShema-BCX8JN01.js";import{B as w}from"./Button-Cd3s39V2.js";import{u as H,t as Q,I as y}from"./zod-axEruKF6.js";import{F as U}from"./Form-DlBLcxEH.js";function le(t,s=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(s)}function ue(t,s=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(s)}function de(t,s="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${s}[${n}]`)}}var F=t=>Array.isArray(t)?t:[t];function me(t){const s=Array.isArray(t[0])?t[0]:t;return de(s,"createSelector expects all input-selectors to be functions, but received the following types: "),s}function pe(t,s){const n=[],{length:i}=t;for(let o=0;o<i;o++)n.push(t[o].apply(null,s));return n}var _e=class{constructor(t){this.value=t}deref(){return this.value}},fe=typeof WeakRef<"u"?WeakRef:_e,he=0,I=1;function C(){return{s:he,v:void 0,o:null,p:null}}function q(t,s={}){let n=C();const{resultEqualityCheck:i}=s;let o,l=0;function r(){var m;let a=n;const{length:u}=arguments;for(let _=0,g=u;_<g;_++){const f=arguments[_];if(typeof f=="function"||typeof f=="object"&&f!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const h=p.get(f);h===void 0?(a=C(),p.set(f,a)):a=h}else{let p=a.p;p===null&&(a.p=p=new Map);const h=p.get(f);h===void 0?(a=C(),p.set(f,a)):a=h}}const c=a;let d;if(a.s===I)d=a.v;else if(d=t.apply(null,arguments),l++,i){const _=((m=o==null?void 0:o.deref)==null?void 0:m.call(o))??o;_!=null&&i(_,d)&&(d=_,l!==0&&l--),o=typeof d=="object"&&d!==null||typeof d=="function"?new fe(d):d}return c.s=I,c.v=d,d}return r.clearCache=()=>{n=C(),r.resetResultsCount()},r.resultsCount=()=>l,r.resetResultsCount=()=>{l=0},r}function ge(t,...s){const n=typeof t=="function"?{memoize:t,memoizeOptions:s}:t,i=(...o)=>{let l=0,r=0,a,u={},c=o.pop();typeof c=="object"&&(u=c,c=o.pop()),le(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...u},{memoize:m,memoizeOptions:_=[],argsMemoize:g=q,argsMemoizeOptions:f=[],devModeChecks:p={}}=d,h=F(_),T=F(f),v=me(o),j=m(function(){return l++,c.apply(null,arguments)},...h),N=g(function(){r++;const G=pe(v,arguments);return a=j.apply(null,G),a},...T);return Object.assign(N,{resultFunc:c,memoizedResultFunc:j,dependencies:v,dependencyRecomputations:()=>r,resetDependencyRecomputations:()=>{r=0},lastResult:()=>a,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:m,argsMemoize:g})};return Object.assign(i,{withTypes:()=>i}),i}var W=ge(q),be=Object.assign((t,s=W)=>{ue(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(l=>t[l]);return s(i,(...l)=>l.reduce((r,a,u)=>(r[n[u]]=a,r),{}))},{withTypes:()=>be});const ve="_navbar_owjid_1",xe="_navbar_logo_owjid_7",je="_navbar_content_owjid_12",ye="_navbar_links_icons_owjid_20",ke="_navbar_links_icons_visible_owjid_45",we="_navbar_close_owjid_50",Ne="_navbar_list_owjid_67",Ce="_navbar_right_owjid_113",Se="_navbar_right_basket_icon_owjid_125",$e="_navbar_right_login_owjid_131",Re="_navbar_menu_owjid_138",R={navbar:ve,navbar_logo:xe,navbar_content:je,navbar_links_icons:ye,navbar_links_icons_visible:ke,navbar_close:we,navbar_list:Ne,"active-link":"_active-link_owjid_107",navbar_right:Ce,navbar_right_basket_icon:Se,navbar_right_login:$e,navbar_menu:Re},{navbar_list:Ae}=R,Ee="home",Te=x.memo(({data:t,activeLink:s,handleActiveLink:n})=>{const i=t.map(o=>e.jsx("li",{onClick:()=>n(o),children:e.jsx(S,{to:o===Ee?"/order_food_app":o,className:o===s?R["active-link"]:"",children:o},o)},o));return e.jsx("ul",{className:Ae,children:i})}),Le=W(t=>t.cart.foodIdAndQuantity,t=>Object.values(t).reduce((n,i)=>n+i,0)),Fe="_navbar_quantity_15u36_1",Ie="_navbar_total_15u36_5",Me={navbar_quantity:Fe,navbar_total:Ie},{navbar_quantity:Oe,navbar_total:ze}=Me;function M({TotalQuantity:t,icon:s,page:n}){return e.jsx(S,{to:`${"/order_food_app/"+n}`,children:e.jsxs("div",{className:Oe,children:[e.jsx("img",{src:s,alt:"icon"}),e.jsx("div",{className:ze,children:t})]})})}const O={backgroundColor:"transparent",borderRadius:"50px",padding:"8px 16px",color:"black",cursor:"pointer",transition:"0.5s ease-in-out",border:"1px solid #ddd"},{navbar_right:Be,navbar_right_login:De}=R;function Pe({setIsVisibleShowLoginPopUp:t}){const s=k(c=>c.auth.accessToken),n=$(),i=z(),[o,l]=B(),r=()=>{t(!0)},a=k(Le),u=k(c=>c.wishlist.foodIds.length);return e.jsxs("div",{className:Be,children:[e.jsx(D,{imgName:b.search_icon,title:"search_icon"}),e.jsx(M,{TotalQuantity:u,icon:b.favorite_icon,page:"wishlist"}),e.jsx(M,{TotalQuantity:a,icon:b.basket_icon,page:"cart"}),e.jsx("div",{className:De,children:s?e.jsx(w,{className:"logOut",type:"button",disabled:!1,style:O,onClick:()=>{n(K()),n(X()),o.get("message")&&l(""),i("/"),E("you are Loged out.",{icon:"✌️"})},children:"logOut"}):e.jsx(w,{className:"sing-in",type:"button",disabled:!1,style:O,onClick:r,children:"Sing In"})})]})}const He=()=>{const[t,s]=x.useState("idle"),[n,i]=x.useState(null);return{checkEmailAvailable:async r=>{s("checking"),i(r);try{(await J.get(`/users?email=${r}`)).data.length?s("notAvailable"):s("available")}catch(a){s("failed"),console.log(a)}},resetCheckEmailAvailable:()=>{s("idle"),i(null)},statusAvailableEmail:t,enterdEmail:n}},Qe=({closeLoginPopUp:t})=>{const{status:s,user:n,accessToken:i,error:o}=k(v=>v.auth),l=z(),r=$(),{statusAvailableEmail:a,checkEmailAvailable:u,enterdEmail:c,resetCheckEmailAvailable:d}=He(),{handleSubmit:m,register:_,formState:{errors:g},trigger:f,getFieldState:p}=H({resolver:Q(re),mode:"onBlur"});return{status:s,error:o,user:n,accessToken:i,handleSubmit:m,register:_,errors:g,statusAvailableEmail:a,enterdEmail:c,submitFormRegister:async v=>{r(Z(v)).unwrap().then(()=>{t(),E("You are Register with Success",{icon:"👌",style:{backgroundColor:"green",color:"white"}}),l("/")}).catch(j=>{console.log(j)})},checkEmailAvailable:u,resetCheckEmailAvailable:d,onBlurCheckEmailAvailable:async v=>{await f("email");const{isDirty:j,invalid:N}=p("email");j&&!N&&c!==v.target.value&&u(v.target.value),j&&N&&c&&d()}}},Ue="_title_8vo97_1",qe="_title_close_8vo97_6",We={title:Ue,title_close:qe},{title:Ye,title_close:Ve}=We;function Y({text:t,setIsVisibleShowLoginPopUp:s}){return e.jsxs("div",{className:Ye,children:[e.jsx("h3",{children:t}),e.jsx("div",{className:Ve,onClick:()=>s(!1),children:"X"})]})}function Ge({currentState:t,setCurrentState:s,setIsVisibleShowLoginPopUp:n}){var _,g,f,p,h;const i=()=>{n(!1)},{status:o,error:l,errors:r,statusAvailableEmail:a,handleSubmit:u,register:c,onBlurCheckEmailAvailable:d,submitFormRegister:m}=Qe({closeLoginPopUp:i});return e.jsxs(e.Fragment,{children:[l&&e.jsx(P,{className:"error",text:l}),e.jsxs(U,{onSubmit:u(m),children:[e.jsx(Y,{text:t,setIsVisibleShowLoginPopUp:n}),e.jsx(y,{type:"text",register:c,name:"firstName",placeHolder:"FirstName",error:(_=r.firstName)==null?void 0:_.message}),e.jsx(y,{type:"text",register:c,name:"lastName",placeHolder:"LastName",error:(g=r.lastName)==null?void 0:g.message}),e.jsx(y,{type:"email",register:c,name:"email",placeHolder:"example@gmail.com",onBlur:d,formText:a==="checking"?"we are currently checking the availability of this email. Please wait...":"",success:a==="available"?"The Email is Available":"",disabled:a==="checking",error:(f=r.email)!=null&&f.message?r.email.message:a==="notAvailable"?"The Email ist not Available":a==="failed"?"Currently we can't checking the Email because The Server has a problem":""}),e.jsx(y,{type:"password",register:c,name:"password",placeHolder:"password",error:(p=r.password)==null?void 0:p.message}),e.jsx(y,{type:"password",register:c,name:"confirmPassword",placeHolder:"Confirmpassword",error:(h=r.confirmPassword)==null?void 0:h.message}),e.jsx(w,{type:"submit",disabled:o==="pending",style:{backgroundColor:"tomato",color:"white",borderRadius:"10px",border:"none",padding:"10px",width:"100%",marginBottom:"10px"},children:o==="pending"?"Loading...":"Register"}),e.jsxs("p",{children:["You have already an Account?",e.jsx(w,{type:"button",style:{textTransform:"capitalize",backgroundColor:"transparent",textDecoration:"underline",border:"none"},onClick:()=>s("sing in"),children:"sing In"})]})]})]})}const Ke=({showLoginPopUp:t})=>{const{status:s,error:n,accessToken:i}=k(m=>m.auth),[o,l]=B(),r=$(),{handleSubmit:a,register:u,formState:{errors:c}}=H({resolver:Q(ie),mode:"onBlur"});return x.useEffect(()=>()=>{r(L())},[r]),x.useEffect(()=>{if(s==="fullfield"){const m=setTimeout(()=>{r(L())},1e3);return()=>{clearTimeout(m)}}},[r,s]),{handleSubmit:a,register:u,submitLoginForm:async m=>{r(ee(m)).unwrap().then(()=>{t&&t(),E("Login with Successfuly",{icon:"🥳",style:{backgroundColor:"green",color:"white"}})})},setSearchParams:l,dispatch:r,searchParams:o,errors:c,status:s,error:n,accessToken:i}};function Xe({currentState:t,setCurrentState:s,setIsVisibleShowLoginPopUp:n}){var d,m;const i=()=>{n(!1)},{register:o,handleSubmit:l,submitLoginForm:r,errors:a,status:u,error:c}=Ke({showLoginPopUp:i});return e.jsxs(e.Fragment,{children:[c&&e.jsx(P,{className:"error",text:c}),e.jsxs(U,{onSubmit:l(r),children:[e.jsx(Y,{text:t,setIsVisibleShowLoginPopUp:n}),e.jsx(y,{type:"text",placeHolder:"example@mail.com",register:o,name:"email",error:(d=a.email)==null?void 0:d.message}),e.jsx(y,{type:"password",placeHolder:"password",register:o,name:"password",error:(m=a.password)==null?void 0:m.message}),e.jsx(w,{type:"submit",disabled:u==="pending",style:{backgroundColor:"tomato",color:"white",borderRadius:"10px",border:"none",padding:"10px",width:"100%",marginBottom:"10px",opacity:`${u==="pending"?"0.5":""}`},children:u==="pending"?"Loading...":"Sing in"}),e.jsxs("p",{children:["You don't have Account?",e.jsx(w,{type:"button",style:{textTransform:"capitalize",backgroundColor:"transparent",textDecoration:"underline",border:"none"},onClick:()=>s("sing up"),children:"Sing up"})]})]})]})}const Je="_login_popUp_1dzni_1",Ze="_widthAnimation_1dzni_1",et={login_popUp:Je,widthAnimation:Ze},{login_popUp:tt}=et;function st({isVisibleShowLoginPopUp:t,setIsVisibleShowLoginPopUp:s}){const[n,i]=x.useState("sing up");return e.jsx(e.Fragment,{children:t&&e.jsx("div",{className:tt,children:n==="sing up"?e.jsx(Ge,{currentState:n,setCurrentState:i,setIsVisibleShowLoginPopUp:s}):e.jsx(Xe,{currentState:n,setCurrentState:i,setIsVisibleShowLoginPopUp:s})})})}const{navbar:nt,navbar_content:ot,navbar_logo:at,navbar_links_icons:rt,navbar_menu:it,navbar_links_icons_visible:ct,navbar_close:lt}=R;function ut(){const t=k(c=>c.auth.accessToken),{activeLink:s,handleActiveLink:n}=ae("home"),[i,o]=x.useState(!1),[l,r]=x.useState(!1),a=$(),u=()=>{r(c=>!c)};return x.useEffect(()=>{t&&a(te("foodIds"))},[a,t]),e.jsxs("nav",{className:nt,children:[e.jsx(A,{children:e.jsxs("div",{className:ot,children:[e.jsx(S,{to:"/order_food_app",children:e.jsx(D,{className:at,imgName:b.logo,title:"logo"})}),e.jsxs("div",{className:`${rt} ${l?ct:""}`,children:[e.jsx("div",{className:lt,onClick:u,children:e.jsx("img",{src:b.cross_icon,alt:"close icon"})}),e.jsx(Te,{data:se,activeLink:s,handleActiveLink:n}),e.jsx(Pe,{setIsVisibleShowLoginPopUp:o})]}),e.jsx("div",{className:it,onClick:u,children:e.jsx("img",{src:b.menu_icon,alt:"menu icon"})})]})}),e.jsx(st,{isVisibleShowLoginPopUp:i,setIsVisibleShowLoginPopUp:o})]})}const dt="_footer_left_logo_pl53s_2",mt="_footer_left_desc_pl53s_6",pt="_footer_left_icons_pl53s_12",_t={footer_left_logo:dt,footer_left_desc:mt,footer_left_icons:pt},{footer_left:ft,footer_left_logo:ht,footer_left_desc:gt,footer_left_icons:bt}=_t;function vt(){return e.jsxs("div",{className:ft,children:[e.jsx("div",{className:ht,children:e.jsx("img",{src:b.logo,alt:"logo totmato"})}),e.jsx("p",{className:gt,children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis, velit earum. Sed ex eos similique tempora quaerat aliquid enim reiciendis, asperiores minus laboriosam modi porro iure hic debitis vero unde?"}),e.jsxs("div",{className:bt,children:[e.jsx("img",{src:b.facebook_icon,alt:"facebook"}),e.jsx("img",{src:b.linkedin_icon,alt:"linkedin"}),e.jsx("img",{src:b.twitter_icon,alt:"twitter"})]})]})}const xt="_footer_center_yi3i7_1",jt={footer_center:xt},{footer_center:yt,footer_center_title:kt}=jt;function wt({dataLink:t}){const s=t.map(n=>e.jsx(S,{to:"/",children:e.jsx("li",{children:n})},n));return e.jsxs("div",{className:yt,children:[e.jsx("h2",{className:kt,children:"COMPANY"}),e.jsx("ul",{children:s})]})}function Nt(){return e.jsxs("div",{className:"footer-right",children:[e.jsx("h2",{className:"footer-right title",children:"GET IN TOUCH"}),e.jsxs("ul",{children:[e.jsx("li",{children:"+212 6 12 44 66 60"}),e.jsx("li",{children:"contact@tomato.com"})]})]})}const Ct="_footer_1xhkp_1",St="_footer_content_1xhkp_10",$t="_footer_copyRight_1xhkp_34",Rt={footer:Ct,footer_content:St,footer_copyRight:$t},{footer:At,footer_content:Et,footer_copyRight:Tt}=Rt;function Lt(){return e.jsx("footer",{className:At,children:e.jsxs(A,{children:[e.jsxs("div",{className:Et,children:[e.jsx(vt,{}),e.jsx(wt,{dataLink:ne}),e.jsx(Nt,{})]}),e.jsx("hr",{}),e.jsx("p",{className:Tt,children:"CopyRight 2024 Tomato.com - All Right Reserved"})]})})}function Pt(){return e.jsxs("div",{className:"main-layout",children:[e.jsx(ut,{}),e.jsx(A,{children:e.jsx(oe,{})}),e.jsx(Lt,{}),e.jsx(ce,{})]})}export{Pt as default};
